@model IEnumerable<SuperMartApp.Domain.Entities.Customer>
@{ ViewData["Title"] = "Customers"; }
<h2>Customers</h2>
<form class="row g-2 mb-3" method="get">
  <div class="col-auto"><input class="form-control" name="q" placeholder="Search code/name/phone" value="@Context.Request.Query["q"]" /></div>
  <div class="col-auto"><button class="btn btn-primary">Search</button></div>
  <div class="col-auto"><a class="btn btn-success" href="@Url.Action("Create")">Add</a></div>
</form>
<table class="table table-striped table-sm">
  <thead><tr><th>Code</th><th>Name</th><th>Phone</th><th>Email</th><th>Points</th><th></th></tr></thead>
  <tbody>
  @foreach (var c in Model) {
    <tr>
      <td>@c.Code</td><td>@c.Name</td><td>@c.Phone</td><td>@c.Email</td><td>@c.LoyaltyPoints</td>
      <td class="text-end">
        <a class="btn btn-link btn-sm" href="@Url.Action("Edit", new { id=c.Id })">Edit</a>
        <form method="post" action="@Url.Action("Delete", new { id=c.Id })" class="d-inline">
          @Html.AntiForgeryToken()
          <button class="btn btn-link btn-sm text-danger" onclick="return confirm('Delete?')">Delete</button>
        </form>
      </td>
    </tr>
  }
  </tbody>
</table>
